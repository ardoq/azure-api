{:scheme "https", :host "azure.local", :info {:description "An API for QnAMaker Service", :title "QnAMaker Client", :version "4.0"}, :ops {:EndpointSettings_UpdateSettings {:path "/endpointSettings", :description nil, :parameters [#:reference{:parameters "EndpointSettingsPayload"}], :verb :patch}, :Knowledgebase_Publish {:path "/knowledgebases/{kbId}", :description nil, :parameters [#:reference{:parameters "KbId"}], :verb :post}, :Knowledgebase_Delete {:path "/knowledgebases/{kbId}", :description nil, :parameters [#:reference{:parameters "KbId"}], :verb :delete}, :Knowledgebase_Update {:path "/knowledgebases/{kbId}", :description nil, :parameters [#:reference{:parameters "KbId"} #:reference{:parameters "UpdateKb"}], :verb :patch}, :EndpointKeys_GetKeys {:path "/endpointkeys", :description nil, :parameters [], :verb :get}, :Knowledgebase_Create {:path "/knowledgebases/create", :description nil, :parameters [#:reference{:parameters "CreateKbPayload"}], :verb :post}, :Knowledgebase_ListAll {:path "/knowledgebases", :description nil, :parameters [], :verb :get}, :EndpointSettings_GetSettings {:path "/endpointSettings", :description nil, :parameters [], :verb :get}, :Knowledgebase_GetDetails {:path "/knowledgebases/{kbId}", :description nil, :parameters [#:reference{:parameters "KbId"}], :verb :get}, :Knowledgebase_Replace {:path "/knowledgebases/{kbId}", :description nil, :parameters [#:reference{:parameters "KbId"} #:reference{:parameters "ReplaceKb"}], :verb :put}, :Alterations_Replace {:path "/alterations", :description nil, :parameters [#:reference{:parameters "WordAlterations"}], :verb :put}, :EndpointKeys_RefreshKeys {:path "/endpointkeys/{keyType}", :description nil, :parameters [#:reference{:parameters "KeyType"}], :verb :patch}, :Alterations_Get {:path "/alterations", :description nil, :parameters [], :verb :get}, :Knowledgebase_Download {:path "/knowledgebases/{kbId}/{environment}/qna", :description nil, :parameters [#:reference{:parameters "KbId"} #:reference{:parameters "Environment"}], :verb :get}, :Operations_GetDetails {:path "/operations/{operationId}", :description nil, :parameters [#:reference{:parameters "OperationId"}], :verb :get}}, :parameters {:EndpointSettingsPayload {:description "Post body of the request.", :in "body", :name "endpointSettingsPayload", :required true, :schema #:reference{:definitions "EndpointSettingsDTO"}, :x-ms-parameter-location "method", :x-nullable true}, :UpdateKb {:description "Post body of the request.", :in "body", :name "updateKb", :required true, :schema #:reference{:definitions "UpdateKbOperationDTO"}, :x-ms-parameter-location "method", :x-nullable true}, :Environment {:description "Specifies whether environment is Test or Prod.", :enum ["Prod" "Test"], :name "environment", :type "string", :x-ms-parameter-location "method", :x-ms-enum {:modelAsString true, :name "EnvironmentType"}, :required true, :in "path", :x-nullable false}, :OperationId {:description "Operation id.", :in "path", :name "operationId", :required true, :type "string", :x-ms-parameter-location "method", :x-nullable false}, :Endpoint {:description "Supported Cognitive Services endpoints (protocol and hostname, for example: https://westus.api.cognitive.microsoft.com).", :in "path", :name "Endpoint", :required true, :type "string", :x-ms-parameter-location "client", :x-ms-skip-url-encoding true}, :ReplaceKb {:description "An instance of ReplaceKbDTO which contains list of qnas to be uploaded", :in "body", :name "replaceKb", :required true, :schema #:reference{:definitions "ReplaceKbDTO"}, :x-ms-parameter-location "method", :x-nullable true}, :KbId {:description "Knowledgebase id.", :in "path", :name "kbId", :required true, :type "string", :x-ms-parameter-location "method", :x-nullable false}, :WordAlterations {:description "New alterations data.", :in "body", :name "wordAlterations", :required true, :schema #:reference{:definitions "WordAlterationsDTO"}, :x-ms-parameter-location "method", :x-nullable true}, :KeyType {:description "Type of Key", :in "path", :name "keyType", :required true, :type "string", :x-ms-parameter-location "method", :x-nullable false}, :CreateKbPayload {:description "Post body of the request.", :in "body", :name "createKbPayload", :required true, :schema #:reference{:definitions "CreateKbDTO"}, :x-ms-parameter-location "method", :x-nullable true}}, :definitions {:CreateKbInputDTO {:additionalProperties false, :description "Input to create KB.", :properties {:files {:description "List of files to be added to knowledgebase.", :items #:reference{:definitions "FileDTO"}, :maxLength 10, :type "array"}, :qnaList {:description "List of QNA to be added to the index. Ids are generated by the service and should be omitted.", :items #:reference{:definitions "QnADTO"}, :type "array"}, :urls {:description "List of URLs to be added to knowledgebase.", :items {:type "string"}, :maxLength 10, :type "array"}}, :type "object"}, :ErrorCode {:description "Human readable error code.", :enum ["BadArgument" "Forbidden" "NotFound" "KbNotFound" "Unauthorized" "Unspecified" "EndpointKeysError" "QuotaExceeded" "QnaRuntimeError" "SKULimitExceeded" "OperationNotFound" "ServiceError" "ValidationFailure" "ExtractionFailure"], :type "string", :x-ms-enum {:modelAsString true, :name "ErrorCodeType"}}, :UpdateMetadataDTO {:additionalProperties false, :description "PATCH Body schema to represent list of Metadata to be updated", :properties {:add {:description "List of metadata associated with answer to be added", :items #:reference{:definitions "MetadataDTO"}, :maxLength 100, :type "array"}, :delete {:description "List of Metadata associated with answer to be deleted", :items #:reference{:definitions "MetadataDTO"}, :maxLength 100, :type "array"}}, :type "object"}, :UpdateKbOperationDTO {:additionalProperties false, :description "Contains list of QnAs to be updated", :properties {:add {:allOf [#:reference{:definitions "CreateKbInputDTO"}], :description "An instance of CreateKbInputDTO for add operation"}, :defaultAnswerUsedForExtraction {:description "Text string to be used as the answer in any Q-A which has no extracted answer from the document but has a hierarchy. Required when EnableHierarchicalExtraction field is set to True.", :maxLength 300, :minLength 1, :type "string"}, :delete {:allOf [#:reference{:definitions "DeleteKbContentsDTO"}], :description "An instance of DeleteKbContentsDTO for delete Operation"}, :enableHierarchicalExtraction {:description "Enable hierarchical extraction of Q-A from files and urls. The value set during KB creation will be used if this field is not present.", :type "boolean"}, :update {:allOf [#:reference{:definitions "UpdateKbContentsDTO"}], :description "An instance of UpdateKbContentsDTO for Update Operation"}}, :type "object"}, :Operation {:additionalProperties false, :description "Record to track long running operation.", :properties {:createdTimestamp {:description "Timestamp when the operation was created.", :type "string"}, :errorResponse #:reference{:definitions "ErrorResponse"}, :lastActionTimestamp {:description "Timestamp when the current state was entered.", :type "string"}, :operationId {:description "Operation Id.", :type "string"}, :operationState #:reference{:definitions "OperationState"}, :resourceLocation {:description "Relative URI to the target resource location for completed resources.", :type "string"}, :userId {:description "User Id", :type "string"}}, :type "object"}, :QnADocumentsDTO {:additionalProperties false, :description "List of QnADTO", :properties {:qnaDocuments {:description "List of answers.", :items #:reference{:definitions "QnADTO"}, :type "array"}}, :type "object"}, :OperationState {:description "Enumeration of operation states.", :enum ["Failed" "NotStarted" "Running" "Succeeded"], :type "string", :x-ms-enum {:modelAsString true, :name "OperationStateType"}}, :UpdateContextDTO {:description "Update Body schema to represent context to be updated", :properties {:isContextOnly {:description "To mark if a prompt is relevant only with a previous question or not.\ntrue - Do not include this QnA as search result for queries without context\nfalse - ignores context and includes this QnA in search result", :type "boolean"}, :promptsToAdd {:description "List of prompts to be added to the qna.", :items #:reference{:definitions "PromptDTO"}, :type "array"}, :promptsToDelete {:description "List of prompts associated with qna to be deleted", :items {:format "int32", :type "integer"}, :type "array"}}, :type "object"}, :EndpointSettingsDTO {:additionalProperties false, :description "Endpoint settings.", :properties {:activeLearning {:allOf [#:reference{:definitions "ActiveLearningSettingsDTO"}], :description "Active Learning settings of the endpoint."}}, :type "object"}, :ActiveLearningSettingsDTO {:additionalProperties false, :description "Active Learning settings of the endpoint.", :properties {:enable {:description "True/False string providing Active Learning", :type "string"}}, :type "object"}, :KnowledgebaseDTO {:additionalProperties false, :description "Response schema for CreateKb operation.", :properties {:lastChangedTimestamp {:description "Time stamp at which the knowledgebase was last modified (UTC).", :type "string"}, :urls {:description "URL sources from which Q-A were extracted and added to the knowledgebase.", :items {:type "string"}, :type "array"}, :sources {:description "Custom sources from which Q-A were extracted or explicitly added to the knowledgebase.", :items {:type "string"}, :type "array"}, :name {:description "Friendly name of the knowledgebase.", :type "string"}, :hostName {:description "URL host name at which the knowledgebase is hosted.", :type "string"}, :lastAccessedTimestamp {:description "Time stamp at which the knowledgebase was last accessed (UTC).", :type "string"}, :id {:description "Unique id that identifies a knowledgebase.", :type "string"}, :userId {:description "User who created / owns the knowledgebase.", :type "string"}, :lastPublishedTimestamp {:description "Time stamp at which the knowledgebase was last published (UTC).", :type "string"}}, :type "object"}, :UpdateKbContentsDTO {:additionalProperties false, :description "PATCH body schema for Update operation in Update Kb", :properties {:name {:description "Friendly name for the knowledgebase.", :type "string"}, :qnaList {:description "List of Q-A (UpdateQnaDTO) to be added to the knowledgebase.", :items #:reference{:definitions "UpdateQnaDTO"}, :type "array"}, :urls {:description "List of existing URLs to be refreshed. The content will be extracted again and re-indexed.", :items {:type "string"}, :maxLength 10, :type "array"}}, :type "object"}, :PromptDTO {:description "Prompt for an answer.", :properties {:displayOrder {:description "Index of the prompt - used in ordering of the prompts", :format "int32", :type "integer"}, :displayText {:description "Text displayed to represent a follow up question prompt", :maxLength 200, :type "string"}, :qna {:allOf [#:reference{:definitions "QnADTO"}], :description "QnADTO - Either QnaId or QnADTO needs to be present in a PromptDTO object"}, :qnaId {:description "Qna id corresponding to the prompt - if QnaId is present, QnADTO object is ignored.", :format "int32", :type "integer"}}, :type "object"}, :KnowledgebasesDTO {:additionalProperties false, :description "Collection of knowledgebases owned by a user.", :properties {:knowledgebases {:description "Collection of knowledgebase records.", :items #:reference{:definitions "KnowledgebaseDTO"}, :type "array"}}, :type "object"}, :QnADTO {:additionalProperties false, :description "Q-A object.", :properties {:answer {:description "Answer text", :maxLength 25000, :minLength 1, :type "string"}, :context {:allOf [#:reference{:definitions "ContextDTO"}], :description "Context of a QnA"}, :id {:description "Unique id for the Q-A.", :format "int32", :type "integer"}, :metadata {:description "List of metadata associated with the answer.", :items #:reference{:definitions "MetadataDTO"}, :maxLength 10, :type "array"}, :questions {:description "List of questions associated with the answer.", :items {:type "string"}, :maxLength 100, :minLength 1, :type "array"}, :source {:description "Source from which Q-A was indexed. eg. https://docs.microsoft.com/en-us/azure/cognitive-services/QnAMaker/FAQs", :maxLength 300, :type "string"}}, :required ["answer" "questions"], :type "object"}, :ReplaceKbDTO {:additionalProperties false, :description "Post body schema for Replace KB operation.", :properties {:qnAList {:description "List of Q-A (QnADTO) to be added to the knowledgebase. Q-A Ids are assigned by the service and should be omitted.", :items #:reference{:definitions "QnADTO"}, :type "array"}}, :required ["qnAList"], :type "object"}, :CreateKbDTO {:additionalProperties false, :description "Post body schema for CreateKb operation.", :properties {:defaultAnswerUsedForExtraction {:description "Text string to be used as the answer in any Q-A which has no extracted answer from the document but has a hierarchy. Required when EnableHierarchicalExtraction field is set to True.", :maxLength 300, :minLength 1, :type "string"}, :enableHierarchicalExtraction {:description "Enable hierarchical extraction of Q-A from files and urls. Value to be considered False if this field is not present.", :type "boolean"}, :files {:description "List of files from which to Extract Q-A.", :items #:reference{:definitions "FileDTO"}, :maxLength 10, :type "array"}, :language {:description "Language of the knowledgebase.", :maxLength 100, :minLength 1, :type "string"}, :name {:description "Friendly name for the knowledgebase.", :maxLength 100, :minLength 1, :type "string"}, :qnaList {:description "List of Q-A (QnADTO) to be added to the knowledgebase. Q-A Ids are assigned by the service and should be omitted.", :items #:reference{:definitions "QnADTO"}, :maxLength 1000, :type "array"}, :urls {:description "List of URLs to be used for extracting Q-A.", :items {:type "string"}, :maxLength 10, :type "array"}}, :required ["name"], :type "object"}, :WordAlterationsDTO {:additionalProperties false, :description "Collection of word alterations.", :properties {:wordAlterations {:description "Collection of word alterations.", :items #:reference{:definitions "AlterationsDTO"}, :maxLength 10000, :type "array"}}, :required ["wordAlterations"], :type "object"}, :AlterationsDTO {:additionalProperties false, :description "Collection of words that are synonyms.", :properties {:alterations {:description "Words that are synonymous with each other.", :items {:type "string"}, :maxLength 20, :minLength 1, :type "array"}}, :required ["alterations"], :type "object"}, :UpdateQuestionsDTO {:additionalProperties false, :description "PATCH Body schema for Update Kb which contains list of questions to be added and deleted", :properties {:add {:description "List of questions to be added", :items {:type "string"}, :maxLength 100, :type "array"}, :delete {:description "List of questions to be deleted.", :items {:type "string"}, :maxLength 100, :type "array"}}, :type "object"}, :UpdateQnaDTO {:additionalProperties false, :description "PATCH Body schema for Update Qna List", :properties {:answer {:description "Answer text", :type "string"}, :context {:allOf [#:reference{:definitions "UpdateContextDTO"}], :description "Context associated with Qna to be updated."}, :id {:description "Unique id for the Q-A", :format "int32", :maximum 2147483647, :minimum 0, :type "integer"}, :metadata {:allOf [#:reference{:definitions "UpdateMetadataDTO"}], :description "List of metadata associated with the answer to be updated"}, :questions {:allOf [#:reference{:definitions "UpdateQuestionsDTO"}], :description "List of questions associated with the answer."}, :source {:description "Source from which Q-A was indexed. eg. https://docs.microsoft.com/en-us/azure/cognitive-services/QnAMaker/FAQs", :maxLength 300, :type "string"}}, :type "object"}, :DeleteKbContentsDTO {:additionalProperties false, :description "PATCH body schema of Delete Operation in UpdateKb", :properties {:ids {:description "List of Qna Ids to be deleted", :items {:format "int32", :type "integer"}, :type "array"}, :sources {:description "List of sources to be deleted from knowledgebase.", :items {:type "string"}, :maxLength 300, :minLength 1, :type "array"}}, :type "object"}, :Error {:additionalProperties false, :description "The error object. As per Microsoft One API guidelines - https://github.com/Microsoft/api-guidelines/blob/vNext/Guidelines.md#7102-error-condition-responses.", :properties {:code #:reference{:definitions "ErrorCode"}, :details {:description "An array of details about specific errors that led to this reported error.", :items #:reference{:definitions "Error"}, :type "array"}, :innerError #:reference{:definitions "InnerErrorModel"}, :message {:description "A human-readable representation of the error.", :type "string"}, :target {:description "The target of the error.", :type "string"}}, :required ["code"], :type "object"}, :ErrorResponse {:additionalProperties false, :description "Error response. As per Microsoft One API guidelines - https://github.com/Microsoft/api-guidelines/blob/vNext/Guidelines.md#7102-error-condition-responses.", :properties {:error {:allOf [#:reference{:definitions "Error"}], :description "The error object."}}, :type "object"}, :FileDTO {:additionalProperties false, :description "DTO to hold details of uploaded files.", :properties {:fileName {:description "File name. Supported file types are \".tsv\", \".pdf\", \".txt\", \".docx\", \".xlsx\".", :maxLength 200, :minLength 1, :type "string"}, :fileUri {:description "Public URI of the file.", :type "string"}}, :required ["fileName" "fileUri"], :type "object"}, :InnerErrorModel {:additionalProperties false, :description "An object containing more specific information about the error. As per Microsoft One API guidelines - https://github.com/Microsoft/api-guidelines/blob/vNext/Guidelines.md#7102-error-condition-responses.", :properties {:code {:description "A more specific error code than was provided by the containing error.", :type "string"}, :innerError #:reference{:definitions "InnerErrorModel"}}, :type "object"}, :MetadataDTO {:additionalProperties false, :description "Name - value pair of metadata.", :properties {:name {:description "Metadata name.", :maxLength 100, :minLength 1, :type "string"}, :value {:description "Metadata value.", :maxLength 500, :minLength 1, :type "string"}}, :required ["name" "value"], :type "object"}, :EndpointKeysDTO {:additionalProperties false, :description "Schema for EndpointKeys generate/refresh operations.", :properties {:installedVersion {:description "Current version of runtime.", :type "string"}, :language {:description "Language setting of runtime.", :type "string"}, :lastStableVersion {:description "Latest version of runtime.", :type "string"}, :primaryEndpointKey {:description "Primary Access Key.", :type "string"}, :secondaryEndpointKey {:description "Secondary Access Key.", :type "string"}}, :type "object"}, :ContextDTO {:description "Context associated with Qna.", :properties {:isContextOnly {:description "To mark if a prompt is relevant only with a previous question or not.\ntrue - Do not include this QnA as search result for queries without context\nfalse - ignores context and includes this QnA in search result", :type "boolean"}, :prompts {:description "List of prompts associated with the answer.", :items #:reference{:definitions "PromptDTO"}, :maxItems 20, :type "array"}}, :type "object"}}}