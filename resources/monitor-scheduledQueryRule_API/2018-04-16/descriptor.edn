{:scheme "https", :host "management.azure.com", :info {:description "Azure Monitor client to create/update/delete Scheduled Query Rules", :title "Microsoft Insights", :version "2018-04-16"}, :ops {:ScheduledQueryRules_ListBySubscription {:path "/subscriptions/{subscriptionId}/providers/microsoft.insights/scheduledQueryRules", :description "List the Log Search rules within a subscription group.", :parameters [#:reference{:parameters "ApiVersionParameter"} #:reference{:parameters "FilterParameter"} #:reference{:parameters "SubscriptionIdParameter"}], :verb :get}, :ScheduledQueryRules_ListByResourceGroup {:path "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/microsoft.insights/scheduledQueryRules", :description "List the Log Search rules within a resource group.", :parameters [#:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "ApiVersionParameter"} #:reference{:parameters "FilterParameter"} #:reference{:parameters "SubscriptionIdParameter"}], :verb :get}, :ScheduledQueryRules_Delete {:path "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/microsoft.insights/scheduledQueryRules/{ruleName}", :description "Deletes a Log Search rule", :parameters [#:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "RuleNameParameter"} #:reference{:parameters "ApiVersionParameter"} #:reference{:parameters "SubscriptionIdParameter"}], :verb :delete}, :ScheduledQueryRules_Get {:path "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/microsoft.insights/scheduledQueryRules/{ruleName}", :description "Gets an Log Search rule", :parameters [#:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "RuleNameParameter"} #:reference{:parameters "ApiVersionParameter"} #:reference{:parameters "SubscriptionIdParameter"}], :verb :get}, :ScheduledQueryRules_Update {:path "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/microsoft.insights/scheduledQueryRules/{ruleName}", :description "Update log search Rule.", :parameters [#:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "RuleNameParameter"} #:reference{:parameters "ApiVersionParameter"} {:description "The parameters of the rule to update.", :in "body", :name "parameters", :required true, :schema #:reference{:definitions "LogSearchRuleResourcePatch"}}], :verb :patch}, :ScheduledQueryRules_CreateOrUpdate {:path "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/microsoft.insights/scheduledQueryRules/{ruleName}", :description "Creates or updates an log search rule.", :parameters [#:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "RuleNameParameter"} #:reference{:parameters "ApiVersionParameter"} {:description "The parameters of the rule to create or update.", :in "body", :name "parameters", :required true, :schema #:reference{:definitions "LogSearchRuleResource"}}], :verb :put}}, :parameters {:ApiVersionParameter {:description "Client Api Version.", :in "query", :name "api-version", :required true, :type "string"}, :FilterParameter {:description "The filter to apply on the operation. For more information please see https://msdn.microsoft.com/en-us/library/azure/dn931934.aspx", :in "query", :name "$filter", :required false, :type "string", :x-ms-parameter-location "method"}, :ResourceGroupNameParameter {:description "The name of the resource group.", :in "path", :name "resourceGroupName", :required true, :type "string", :x-ms-parameter-location "method"}, :RuleNameParameter {:description "The name of the rule.", :in "path", :name "ruleName", :required true, :type "string", :x-ms-parameter-location "method"}, :SubscriptionIdParameter {:description "The Azure subscription Id.", :in "path", :name "subscriptionId", :required true, :type "string"}}, :definitions {:LogSearchRuleResourceCollection {:description "Represents a collection of Log Search rule resources.", :properties {:value {:description "The values for the Log Search Rule resources.", :items #:reference{:definitions "LogSearchRuleResource"}, :type "array"}}}, :Dimension {:description "Specifies the criteria for converting log to metric.", :properties {:name {:description "Name of the dimension", :type "string"}, :operator {:description "Operator for dimension values", :enum ["Include"], :type "string", :x-ms-enum {:modelAsString true, :name "operator"}}, :values {:description "List of dimension values", :items {:type "string"}, :type "array"}}, :required ["name" "operator" "values"], :type "object"}, :LogSearchRule {:description "Log Search Rule Definition", :properties {:action #:reference{:definitions "Action"}, :description {:description "The description of the Log Search rule.", :type "string"}, :enabled {:description "The flag which indicates whether the Log Search rule is enabled. Value should be true or false", :enum ["true" "false"], :type "string", :x-ms-enum {:modelAsString true, :name "enabled"}}, :lastUpdatedTime {:description "Last time the rule was updated in IS08601 format.", :format "date-time", :readOnly true, :type "string"}, :provisioningState {:description "Provisioning state of the scheduled query rule", :enum ["Succeeded" "Deploying" "Canceled" "Failed"], :readOnly true, :type "string", :x-ms-enum {:modelAsString true, :name "provisioningState"}}, :schedule #:reference{:definitions "Schedule"}, :source #:reference{:definitions "Source"}}, :required ["source" "action"]}, :Criteria {:description "Specifies the criteria for converting log to metric.", :properties {:dimensions {:description "List of Dimensions for creating metric", :items #:reference{:definitions "Dimension"}, :type "array"}, :metricName {:description "Name of the metric", :type "string"}}, :required ["metricName"], :type "object"}, :Schedule {:description "Defines how often to run the search and the time interval.", :properties {:frequencyInMinutes {:description "frequency (in minutes) at which rule condition should be evaluated.", :format "int32", :type "integer"}, :timeWindowInMinutes {:description "Time window for which data needs to be fetched for query (should be greater than or equal to frequencyInMinutes).", :format "int32", :type "integer"}}, :required ["frequencyInMinutes" "timeWindowInMinutes"], :type "object"}, :MetricTriggerType {:description "Metric Trigger Evaluation Type", :enum ["Consecutive" "Total"], :type "string", :x-ms-enum {:modelAsString true, :name "metricTriggerType"}}, :LogSearchRulePatch {:description "Log Search Rule Definition for Patching", :properties {:enabled {:description "The flag which indicates whether the Log Search rule is enabled. Value should be true or false", :enum ["true" "false"], :type "string", :x-ms-enum {:modelAsString true, :name "enabled"}}}}, :AlertingAction {:allOf [#:reference{:definitions "Action"}], :description "Specify action need to be taken when rule type is Alert", :properties {:aznsAction #:reference{:definitions "AzNsActionGroup"}, :severity #:reference{:definitions "AlertSeverity"}, :throttlingInMin {:description "time (in minutes) for which Alerts should be throttled or suppressed.", :format "int32", :type "integer"}, :trigger #:reference{:definitions "TriggerCondition"}}, :required ["trigger" "severity"], :type "object", :x-ms-discriminator-value "Microsoft.WindowsAzure.Management.Monitoring.Alerts.Models.Microsoft.AppInsights.Nexus.DataContracts.Resources.ScheduledQueryRules.AlertingAction"}, :AzNsActionGroup {:description "Azure action group", :properties {:actionGroup {:description "Azure Action Group reference.", :items {:type "string"}, :type "array"}, :customWebhookPayload {:description "Custom payload to be sent for all webhook URI in Azure action group", :type "string"}, :emailSubject {:description "Custom subject override for all email ids in Azure action group", :type "string"}}, :type "object"}, :QueryType {:description "Set value to 'ResultAccount'", :enum ["ResultCount"], :type "string", :x-ms-enum {:modelAsString true, :name "QueryType"}}, :LogSearchRuleResource {:allOf [#:reference{:definitions "Resource"}], :description "The Log Search Rule resource.", :properties {:properties #:reference{:definitions "LogSearchRule"}}, :required ["properties"], :type "object"}, :Action {:description "Action descriptor.", :discriminator "odata.type", :properties {"odata.type" {:description "Specifies the action. Supported values - AlertingAction, LogToMetricAction", :type "string"}}, :required ["odata.type"], :type "object"}, :LogToMetricAction {:allOf [#:reference{:definitions "Action"}], :description "Specify action need to be taken when rule type is converting log to metric", :properties {:criteria {:description "Criteria of Metric", :items #:reference{:definitions "Criteria"}, :type "array"}}, :required ["criteria"], :type "object", :x-ms-discriminator-value "Microsoft.WindowsAzure.Management.Monitoring.Alerts.Models.Microsoft.AppInsights.Nexus.DataContracts.Resources.ScheduledQueryRules.LogToMetricAction"}, :Resource {:description "An azure resource object", :properties {:id {:description "Azure resource Id", :readOnly true, :type "string"}, :location {:description "Resource location", :type "string", :x-ms-mutability ["create" "read"]}, :name {:description "Azure resource name", :readOnly true, :type "string"}, :tags {:additionalProperties {:type "string"}, :description "Resource tags"}, :type {:description "Azure resource type", :readOnly true, :type "string"}}, :required ["location"], :x-ms-azure-resource true}, :LogSearchRuleResourcePatch {:description "The log search rule resource for patch operations.", :properties {:properties #:reference{:definitions "LogSearchRulePatch"}, :tags {:additionalProperties {:type "string"}, :description "Resource tags"}}}, :ErrorResponse {:description "Describes the format of Error response.", :properties {:code {:description "Error code", :type "string"}, :message {:description "Error message indicating why the operation failed.", :type "string"}}, :type "object"}, :Source {:description "Specifies the log search query.", :properties {:authorizedResources {:description "List of  Resource referred into query", :items {:type "string"}, :type "array"}, :dataSourceId {:description "The resource uri over which log search query is to be run.", :type "string"}, :query {:description "Log search query. Required for action type - AlertingAction", :type "string"}, :queryType #:reference{:definitions "QueryType"}}, :required ["dataSourceId"], :type "object"}, :AlertSeverity {:description "Severity Level of Alert", :enum ["0" "1" "2" "3" "4"], :type "string", :x-ms-enum {:modelAsString true, :name "AlertSeverity"}}, :TriggerCondition {:description "The condition that results in the Log Search rule.", :properties {:metricTrigger #:reference{:definitions "LogMetricTrigger"}, :threshold {:description "Result or count threshold based on which rule should be triggered.", :format "double", :type "number"}, :thresholdOperator #:reference{:definitions "ConditionalOperator"}}, :required ["thresholdOperator" "threshold"], :type "object"}, :LogMetricTrigger {:description "A log metrics trigger descriptor.", :properties {:metricColumn {:description "Evaluation of metric on a particular column", :type "string"}, :metricTriggerType #:reference{:definitions "MetricTriggerType"}, :threshold {:description "The threshold of the metric trigger.", :format "double", :type "number"}, :thresholdOperator #:reference{:definitions "ConditionalOperator"}}, :type "object"}, :ConditionalOperator {:description "Result Condition Evaluation criteria. Supported Values - 'GreaterThan' or 'LessThan' or 'Equal'.", :enum ["GreaterThan" "LessThan" "Equal"], :type "string", :x-ms-enum {:modelAsString true, :name "ConditionalOperator"}}}}