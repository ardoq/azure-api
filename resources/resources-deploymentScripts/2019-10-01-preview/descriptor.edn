{:scheme "https", :host "management.azure.com", :info {:description "The APIs listed in this specification can be used to manage Deployment Scripts resource through the Azure Resource Manager.", :title "DeploymentScriptsClient", :version "2019-10-01-preview"}, :ops {:DeploymentScripts_ListBySubscription {:path "/subscriptions/{subscriptionId}/providers/Microsoft.Resources/deploymentScripts", :description "Lists all deployment scripts for a given subscription.", :parameters [#:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ApiVersionParameter"}], :verb :get}, :DeploymentScripts_ListByResourceGroup {:path "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deploymentScripts", :description "Lists deployments scripts.", :parameters [#:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "ApiVersionParameter"}], :verb :get}, :DeploymentScripts_Delete {:path "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deploymentScripts/{scriptName}", :description "Deletes a deployment script. When operation completes, status code 200 returned without content.", :parameters [#:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "ScriptNameParameter"} #:reference{:parameters "ApiVersionParameter"}], :verb :delete}, :DeploymentScripts_Get {:path "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deploymentScripts/{scriptName}", :description "Gets a deployment script with a given name.", :parameters [#:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "ScriptNameParameter"} #:reference{:parameters "ApiVersionParameter"}], :verb :get}, :DeploymentScripts_Update {:path "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deploymentScripts/{scriptName}", :description "Updates deployment script tags with specified values.", :parameters [#:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "ScriptNameParameter"} #:reference{:parameters "ApiVersionParameter"} {:description "Deployment script resource with the tags to be updated.", :in "body", :name "deploymentScript", :schema #:reference{:definitions "DeploymentScriptUpdateParameter"}}], :verb :patch}, :DeploymentScripts_Create {:path "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deploymentScripts/{scriptName}", :description "Creates a deployment script.", :parameters [#:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "ScriptNameParameter"} #:reference{:parameters "ApiVersionParameter"} {:description "Deployment script supplied to the operation.", :in "body", :name "deploymentScript", :required true, :schema #:reference{:definitions "DeploymentScript"}}], :verb :put}, :DeploymentScripts_GetLogs {:path "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deploymentScripts/{scriptName}/logs", :description "Gets deployment script logs for a given deployment script name.", :parameters [#:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "ScriptNameParameter"} #:reference{:parameters "ApiVersionParameter"}], :verb :get}, :DeploymentScripts_GetLogsDefault {:path "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deploymentScripts/{scriptName}/logs/default", :description "Gets deployment script logs for a given deployment script name.", :parameters [#:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "ScriptNameParameter"} #:reference{:parameters "ApiVersionParameter"}], :verb :get}}, :parameters {:ApiVersionParameter {:description "Client Api version.", :in "query", :name "api-version", :required true, :type "string", :x-ms-parameter-location "client"}, :ResourceGroupNameParameter {:description "The name of the resource group. The name is case insensitive.", :name "resourceGroupName", :type "string", :minLength 1, :x-ms-parameter-location "method", :maxLength 90, :required true, :in "path", :pattern "^[-\\w\\._\\(\\)]+$"}, :ScriptNameParameter {:description "Name of the deployment script.", :in "path", :maxLength 90, :minLength 1, :name "scriptName", :required true, :type "string", :x-ms-parameter-location "method"}, :SubscriptionIdParameter {:description "Subscription Id which forms part of the URI for every service call.", :in "path", :name "subscriptionId", :required true, :type "string", :x-ms-parameter-location "client"}}, :definitions {:DeploymentScript {:allOf [#:reference{:definitions "AzureResourceBase"}], :description "Deployment script object.", :discriminator "kind", :properties {:identity #:reference{:definitions "ManagedServiceIdentity"}, :kind {:description "Type of the script.", :enum ["AzurePowerShell" "AzureCLI"], :type "string", :x-ms-enum {:modelAsString true, :name "ScriptType"}}, :location {:description "The location of the ACI and the storage account for the deployment script.", :type "string", :x-ms-mutability ["read" "create"]}, :tags {:additionalProperties {:type "string"}, :description "Resource tags.", :type "object"}}, :required ["identity" "location" "kind"], :type "object"}, :AzureResourceBase {:description "Common properties for all Azure resources.", :properties {:id {:description "String Id used to locate any resource on Azure.", :readOnly true, :type "string"}, :name {:description "Name of this resource.", :readOnly true, :type "string"}, :type {:description "Type of this resource.", :readOnly true, :type "string"}}, :type "object", :x-ms-azure-resource true}, :ScriptLog {:allOf [#:reference{:definitions "AzureResourceBase"}], :description "Script execution log object.", :properties {:properties #:reference{:definitions "LogProperties"}}, :type "object"}, :AzurePowerShellScriptProperties {:allOf [#:reference{:definitions "DeploymentScriptPropertiesBase"} #:reference{:definitions "ScriptConfigurationBase"}], :description "Properties of the Azure PowerShell script object.", :properties {:azPowerShellVersion {:description "Azure PowerShell module version to be used.", :type "string"}}, :required ["azPowerShellVersion"], :type "object"}, :DefaultErrorResponse {:description "The details of the error.", :properties {:code {:description "One of a server-defined set of error codes.", :type "string"}, :details {:description "Detailed errors.", :items #:reference{:definitions "DefaultErrorResponse"}, :type "array"}, :message {:description "A human-readable representation of the error.", :type "string"}, :target {:description "The target of the particular error.", :type "string"}}, :type "object"}, :DeploymentScriptUpdateParameter {:allOf [#:reference{:definitions "AzureResourceBase"}], :description "Deployment script parameters to be updated. ", :properties {:tags {:additionalProperties {:type "string"}, :description "Resource tags to be updated.", :type "object"}}, :type "object"}, :ManagedServiceIdentity {:description "Managed identity generic object.", :properties {:type {:description "Type of the managed identity.", :enum ["UserAssigned"], :type "string", :x-ms-enum {:modelAsString true, :name "ManagedServiceIdentityType"}}, :userAssignedIdentities {:additionalProperties #:reference{:definitions "UserAssignedIdentity"}, :description "The list of user-assigned managed identities associated with the resource. Key is the Azure resource Id of the managed identity.", :type "object"}}, :type "object"}, :DeploymentScriptListResult {:description "List of deployment scripts.", :properties {:nextLink {:description "The URL to use for getting the next set of results.", :readOnly true, :type "string"}, :value {:description "An array of deployment scripts.", :items #:reference{:definitions "DeploymentScript"}, :type "array"}}}, :EnvironmentVariable {:description "The environment variable to pass to the script in the container instance.", :properties {:name {:description "The name of the environment variable.", :type "string"}, :secureValue {:description "The value of the secure environment variable.", :type "string"}, :value {:description "The value of the environment variable.", :type "string"}}, :required ["name"], :type "object"}, :AzurePowerShellScript {:allOf [#:reference{:definitions "DeploymentScript"}], :description "Object model for the Azure PowerShell script.", :properties {:properties #:reference{:definitions "AzurePowerShellScriptProperties"}}, :required ["properties"], :type "object", :x-ms-discriminator-value "AzurePowerShell"}, :UserAssignedIdentity {:description "User-assigned managed identity.", :properties {:clientId {:description "Client App Id associated with this identity.", :type "string"}, :principalId {:description "Azure Active Directory principal ID associated with this identity.", :type "string"}}, :type "object"}, :AzureCliScriptProperties {:allOf [#:reference{:definitions "DeploymentScriptPropertiesBase"} #:reference{:definitions "ScriptConfigurationBase"}], :description "Properties of the Azure CLI script object.", :properties {:azCliVersion {:description "Azure CLI module version to be used.", :type "string"}}, :required ["azCliVersion"], :type "object"}, :ScriptStatus {:description "Generic object modeling results of script execution.", :properties {:containerInstanceId {:description "ACI resource Id.", :readOnly true, :type "string"}, :endTime {:description "End time of the script execution.", :format "date-time", :readOnly true, :type "string"}, :error #:reference{:definitions "DefaultErrorResponse"}, :expirationTime {:description "Time the deployment script resource will expire.", :format "date-time", :readOnly true, :type "string"}, :startTime {:description "Start time of the script execution.", :format "date-time", :readOnly true, :type "string"}, :storageAccountId {:description "Storage account resource Id.", :readOnly true, :type "string"}}, :type "object"}, :ScriptConfigurationBase {:description "Common configuration settings for both Azure PowerShell and Azure CLI scripts.", :properties {:arguments {:description "Command line arguments to pass to the script. Arguments are separated by spaces. ex: -Name blue* -Location 'West US 2' ", :type "string"}, :environmentVariables {:description "The environment variables to pass over to the script.", :items #:reference{:definitions "EnvironmentVariable"}, :type "array"}, :forceUpdateTag {:description "Gets or sets how the deployment script should be forced to execute even if the script resource has not changed. Can be current time stamp or a GUID.", :type "string"}, :primaryScriptUri {:description "Uri for the script. This is the entry point for the external script.", :type "string"}, :retentionInterval {:description "Interval for which the service retains the script resource after it reaches a terminal state. Resource will be deleted when this duration expires. Duration is based on ISO 8601 pattern (for example P7D means one week).", :format "duration", :type "string"}, :scriptContent {:description "Script body.", :maxLength 32000, :type "string"}, :supportingScriptUris {:description "Supporting files for the external script.", :items {:description "Supporting file Uri.", :type "string"}, :type "array"}, :timeout {:description "Maximum allowed script execution time specified in ISO 8601 format. Default value is PT1H", :format "duration", :type "string"}}, :required ["retentionInterval"], :type "object", :x-ms-external true}, :DeploymentScriptPropertiesBase {:description "Common properties for the deployment script.", :properties {:cleanupPreference {:description "The clean up preference when the script execution gets in a terminal state. Default setting is 'Always'.", :enum ["Always" "OnSuccess" "OnExpiration"], :type "string", :x-ms-enum {:modelAsString true, :name "cleanupOptions"}}, :outputs {:additionalProperties {:description "Script output in <name, value> pair.", :type "object"}, :description "List of script outputs.", :readOnly true, :type "object"}, :provisioningState {:description "State of the script execution. This only appears in the response.", :enum ["Creating" "ProvisioningResources" "Running" "Succeeded" "Failed" "Canceled"], :readOnly true, :type "string", :x-ms-enum {:modelAsString true, :name "ScriptProvisioningState"}}, :status #:reference{:definitions "ScriptStatus"}}, :type "object", :x-ms-external true}, :AzureCliScript {:allOf [#:reference{:definitions "DeploymentScript"}], :description "Object model for the Azure CLI script.", :properties {:properties #:reference{:definitions "AzureCliScriptProperties"}}, :required ["properties"], :type "object", :x-ms-discriminator-value "AzureCLI"}, :LogProperties {:description "Script log properties.", :properties {:log {:description "Script execution logs in text format.", :readOnly true, :type "string"}}, :type "object"}, :ScriptLogsList {:description "Deployment script execution logs.", :properties {:value {:description "Deployment scripts logs.", :items #:reference{:definitions "ScriptLog"}, :type "array"}}}}}