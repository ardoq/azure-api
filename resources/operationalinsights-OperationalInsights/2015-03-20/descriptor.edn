{:scheme "https", :host "management.azure.com", :info {:description "Azure Log Analytics API reference.", :title "Azure Log Analytics", :version "2015-03-20"}, :ops {:StorageInsights_Get {:path "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.OperationalInsights/workspaces/{workspaceName}/storageInsightConfigs/{storageInsightName}", :description "Gets a storage insight instance.", :parameters [#:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "WorkspaceNameParameter"} {:description "Name of the storageInsightsConfigs resource", :in "path", :name "storageInsightName", :required true, :type "string"} #:reference{:parameters "ApiVersionParameter"} #:reference{:parameters "SubscriptionIdParameter"}], :verb :get}, :StorageInsights_CreateOrUpdate {:path "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.OperationalInsights/workspaces/{workspaceName}/storageInsightConfigs/{storageInsightName}", :description "Create or update a storage insight.", :parameters [#:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "WorkspaceNameParameter"} {:description "Name of the storageInsightsConfigs resource", :in "path", :name "storageInsightName", :required true, :type "string"} {:description "The parameters required to create or update a storage insight.", :in "body", :name "parameters", :required true, :schema #:reference{:definitions "StorageInsight"}} #:reference{:parameters "ApiVersionParameter"} #:reference{:parameters "SubscriptionIdParameter"}], :verb :put}, :Workspaces_ListLinkTargets {:path "/subscriptions/{subscriptionId}/providers/Microsoft.OperationalInsights/linkTargets", :description "Get a list of workspaces which the current user has administrator privileges and are not associated with an Azure Subscription. The subscriptionId parameter in the Url is ignored.", :parameters [#:reference{:parameters "ApiVersionParameter"} #:reference{:parameters "SubscriptionIdParameter"}], :verb :get}, :Workspaces_GetPurgeStatus {:path "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.OperationalInsights/workspaces/{workspaceName}/operations/{purgeId}", :description "Gets status of an ongoing purge operation.", :parameters [#:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "ApiVersionParameter"} #:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "WorkspaceNameParameter"} #:reference{:parameters "WorkspacePurgeIdParameter"}], :verb :get}, :Workspaces_DeleteGateways {:path "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.OperationalInsights/workspaces/{workspaceName}/gateways/{gatewayId}", :description "Delete a Log Analytics gateway.", :parameters [#:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "WorkspaceNameParameter"} #:reference{:parameters "GatewayIdParameter"} #:reference{:parameters "ApiVersionParameter"}], :verb :delete}, :SavedSearches_Get {:path "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.OperationalInsights/workspaces/{workspaceName}/savedSearches/{savedSearchId}", :description "Gets the specified saved search for a given workspace.", :parameters [#:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "WorkspaceNameParameter"} {:description "The id of the saved search.", :in "path", :name "savedSearchId", :required true, :type "string"} #:reference{:parameters "ApiVersionParameter"}], :verb :get}, :Workspaces_Purge {:path "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.OperationalInsights/workspaces/{workspaceName}/purge", :description "Purges data in an Log Analytics workspace by a set of user-defined filters.\n\nIn order to manage system resources, purge requests are throttled at 50 requests per hour. You should batch the execution of purge requests by sending a single command whose predicate includes all user identities that require purging. Use the in operator to specify multiple identities. You should run the query prior to using for a purge request to verify that the results are expected.", :parameters [#:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "ApiVersionParameter"} #:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "WorkspaceNameParameter"} #:reference{:parameters "WorkspacePurgeParameter"}], :verb :post}, :Workspaces_GetSchema {:path "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.OperationalInsights/workspaces/{workspaceName}/schema", :description "Gets the schema for a given workspace.", :parameters [#:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "WorkspaceNameParameter"} #:reference{:parameters "ApiVersionParameter"} #:reference{:parameters "SubscriptionIdParameter"}], :verb :post}, :StorageInsights_ListByWorkspace {:path "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.OperationalInsights/workspaces/{workspaceName}/storageInsightConfigs", :description "Lists the storage insight instances within a workspace", :parameters [#:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "WorkspaceNameParameter"} #:reference{:parameters "ApiVersionParameter"} #:reference{:parameters "SubscriptionIdParameter"}], :verb :get}, :Workspaces_RegenerateSharedKeys {:path "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.OperationalInsights/workspaces/{workspaceName}/regenerateSharedKey", :description "Regenerates the shared keys for a Log Analytics Workspace. These keys are used to connect Microsoft Operational Insights agents to the workspace.", :parameters [#:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "WorkspaceNameParameter"} #:reference{:parameters "ApiVersionParameter"}], :verb :post}, :SavedSearches_Delete {:path "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.OperationalInsights/workspaces/{workspaceName}/savedSearches/{savedSearchId}", :description "Deletes the specified saved search in a given workspace.", :parameters [#:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "WorkspaceNameParameter"} {:description "The id of the saved search.", :in "path", :name "savedSearchId", :required true, :type "string"} #:reference{:parameters "ApiVersionParameter"}], :verb :delete}, :SavedSearches_ListByWorkspace {:path "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.OperationalInsights/workspaces/{workspaceName}/savedSearches", :description "Gets the saved searches for a given Log Analytics Workspace", :parameters [#:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "WorkspaceNameParameter"} #:reference{:parameters "ApiVersionParameter"} #:reference{:parameters "SubscriptionIdParameter"}], :verb :get}, :Operations_List {:path "/providers/Microsoft.OperationalInsights/operations", :description "Lists all of the available OperationalInsights Rest API operations.", :parameters [#:reference{:parameters "ApiVersionParameter"}], :verb :get}, :Workspaces_ListKeys {:path "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.OperationalInsights/workspaces/{workspaceName}/listKeys", :description "Gets the shared keys for a Log Analytics Workspace. These keys are used to connect Microsoft Operational Insights agents to the workspace.", :parameters [#:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "WorkspaceNameParameter"} #:reference{:parameters "ApiVersionParameter"}], :verb :post}, :StorageInsights_Delete {:path "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.OperationalInsights/workspaces/{workspaceName}/storageInsightConfigs/{storageInsightName}", :description "Deletes a storageInsightsConfigs resource", :parameters [#:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "WorkspaceNameParameter"} {:description "Name of the storageInsightsConfigs resource", :in "path", :name "storageInsightName", :required true, :type "string"} #:reference{:parameters "ApiVersionParameter"} #:reference{:parameters "SubscriptionIdParameter"}], :verb :delete}, :SavedSearches_CreateOrUpdate {:path "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.OperationalInsights/workspaces/{workspaceName}/savedSearches/{savedSearchId}", :description "Creates or updates a saved search for a given workspace.", :parameters [#:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "WorkspaceNameParameter"} {:description "The id of the saved search.", :in "path", :name "savedSearchId", :required true, :type "string"} #:reference{:parameters "ApiVersionParameter"} {:description "The parameters required to save a search.", :in "body", :name "parameters", :required true, :schema #:reference{:definitions "SavedSearch"}}], :verb :put}}, :parameters {:ApiVersionParameter {:description "The client API version.", :in "query", :name "api-version", :required true, :type "string"}, :GatewayIdParameter {:description "The Log Analytics gateway Id.", :in "path", :name "gatewayId", :required true, :type "string", :x-ms-parameter-location "method"}, :ResourceGroupNameParameter {:description "The Resource Group name.", :name "resourceGroupName", :type "string", :minLength 1, :x-ms-parameter-location "method", :maxLength 90, :required true, :in "path", :pattern "^[-\\w\\._\\(\\)]+$"}, :SubscriptionIdParameter {:description "The Subscription ID.", :in "path", :name "subscriptionId", :required true, :type "string"}, :WorkspaceNameParameter {:description "The Log Analytics Workspace name.", :in "path", :name "workspaceName", :required true, :type "string", :x-ms-parameter-location "method"}, :WorkspacePurgeIdParameter {:description "In a purge status request, this is the Id of the operation the status of which is returned.", :in "path", :name "purgeId", :required true, :type "string", :x-ms-parameter-location "client"}, :WorkspacePurgeParameter {:description "Describes the body of a request to purge data in a single table of an Log Analytics Workspace", :in "body", :name "body", :required true, :schema #:reference{:definitions "WorkspacePurgeBody"}, :x-ms-parameter-location "client"}}, :definitions {:StorageAccount {:description "Describes a storage account connection.", :properties {:id {:description "The Azure Resource Manager ID of the storage account resource.", :type "string"}, :key {:description "The storage account key.", :type "string"}}, :required ["id" "key"]}, :SearchSort {:description "The sort parameters for search.", :properties {:name {:description "The name of the field the search query is sorted on.", :type "string"}, :order {:description "The sort order of the search.", :enum ["asc" "desc"], :type "string", :x-ms-enum {:modelAsString true, :name "SearchSortEnum"}}}}, :Tag {:description "A tag of a saved search.", :properties {:name {:description "The tag name.", :type "string"}, :value {:description "The tag value.", :type "string"}}, :required ["name" "value"]}, :WorkspacePurgeBodyFilters {:description "User-defined filters to return data which will be purged from the table.", :properties {:column {:description "The column of the table over which the given query should run", :type "string"}, :key {:description "When filtering over custom dimensions, this key will be used as the name of the custom dimension.", :type "string"}, :operator {:description "A query operator to evaluate over the provided column and value(s). Supported operators are ==, =~, in, in~, >, >=, <, <=, between, and have the same behavior as they would in a KQL query.", :type "string"}, :value {:description "the value for the operator to function over. This can be a number (e.g., > 100), a string (timestamp >= '2017-09-01') or array of values."}}}, :OperationListResult {:description "Result of the request to list OperationalInsights operations.", :properties {:value {:description "List of operations supported by the OperationalInsights resource provider.", :items #:reference{:definitions "Operation"}, :type "array"}}}, :Operation {:description "Supported operation of OperationalInsights resource provider.", :properties {:display {:description "Display metadata associated with the operation.", :properties {:operation {:description "Type of operation: get, read, delete, etc.", :type "string"}, :provider {:description "Service provider: OperationalInsights.", :type "string"}, :resource {:description "Resource on which the operation is performed etc.", :type "string"}}}, :name {:description "Operation name: {provider}/{resource}/{operation}", :type "string"}}}, :SearchSchemaValue {:description "Value object for schema results.", :properties {:displayName {:description "The display name of the schema.", :type "string"}, :facet {:description "The boolean that indicates whether or not the field is a facet.", :type "boolean"}, :indexed {:description "The boolean that indicates the field is searchable as free text.", :type "boolean"}, :name {:description "The name of the schema.", :type "string"}, :ownerType {:description "The array of workflows containing the field.", :items {:type "string"}, :type "array"}, :stored {:description "The boolean that indicates whether or not the field is stored.", :type "boolean"}, :type {:description "The type.", :type "string"}}, :required ["facet" "stored" "indexed"]}, :StorageInsightListResult {:description "The list storage insights operation response.", :properties {"@odata.nextLink" {:description "The link (url) to the next page of results.", :type "string", :x-ms-client-name "odataNextLink"}, :value {:description "A list of storage insight items.", :items #:reference{:definitions "StorageInsight"}, :type "array"}}}, :LinkTarget {:description "Metadata for a workspace that isn't linked to an Azure subscription.", :properties {:accountName {:description "The display name of the workspace.", :type "string", :x-ms-client-name "DisplayName"}, :customerId {:description "The GUID that uniquely identifies the workspace. ", :type "string"}, :location {:description "The location of the workspace.", :type "string"}, :workspaceName {:description "The DNS valid workspace name.", :type "string"}}}, :SearchMetadata {:description "Metadata for search results.", :properties {:schema #:reference{:definitions "SearchMetadataSchema"}, :startTime {:description "The start time for the search.", :format "date-time", :type "string"}, :top {:description "The number of top search results.", :format "int64", :type "integer"}, :aggregatedGroupingFields {:description "The aggregated grouping fields.", :type "string"}, :coreSummaries {:description "The core summaries.", :items #:reference{:definitions "CoreSummary"}, :type "array"}, :resultType {:description "The search result type.", :type "string"}, :eTag {:description "The ETag of the search results.", :type "string"}, :requestTime {:description "The request time.", :format "int64", :type "integer"}, :requestId {:description "The request id of the search.", :type "string", :x-ms-client-name "SearchId"}, :total {:description "The total number of search results.", :format "int64", :type "integer"}, :status {:description "The status of the search results.", :type "string"}, :max {:description "The max of all aggregates returned in the result set.", :format "int64", :type "integer"}, :id {:description "The id of the search results request.", :type "string"}, :lastUpdated {:description "The time of last update.", :format "date-time", :type "string"}, :aggregatedValueField {:description "The aggregated value field.", :type "string"}, :sort {:description "How the results are sorted.", :items #:reference{:definitions "SearchSort"}, :type "array"}, :sum {:description "The sum of all aggregates returned in the result set.", :format "int64", :type "integer"}}}, :WorkspacePurgeBody {:description "Describes the body of a purge request for an App Insights Workspace", :properties {:filters {:description "The set of columns and filters (queries) to run over them to purge the resulting data.", :items #:reference{:definitions "WorkspacePurgeBodyFilters"}, :type "array"}, :table {:description "Table from which to purge data.", :type "string"}}, :required ["table" "filters"]}, :WorkspacePurgeResponse {:description "Response containing operationId for a specific purge action.", :properties {:operationId {:description "Id to use when querying for status for a particular purge operation.", :type "string"}}, :required ["operationId"]}, :SearchMetadataSchema {:description "Schema metadata for search.", :properties {:name {:description "The name of the metadata schema.", :type "string"}, :version {:description "The version of the metadata schema.", :format "int32", :type "integer"}}}, :StorageInsightProperties {:description "Storage insight properties.", :properties {:containers {:description "The names of the blob containers that the workspace should read", :items {:type "string"}, :type "array"}, :status #:reference{:definitions "StorageInsightStatus"}, :storageAccount #:reference{:definitions "StorageAccount"}, :tables {:description "The names of the Azure tables that the workspace should read", :items {:type "string"}, :type "array"}}, :required ["storageAccount"]}, :CoreSummary {:description "The core summary of a search.", :properties {:numberOfDocuments {:description "The number of documents of a core summary.", :format "int64", :type "integer"}, :status {:description "The status of a core summary.", :type "string"}}, :required ["numberOfDocuments"]}, :StorageInsight {:allOf [#:reference{:definitions "ProxyResource"}], :description "The top level storage insight resource container.", :properties {:eTag {:description "The ETag of the storage insight.", :type "string"}, :properties #:reference{:definitions "StorageInsightProperties"}}, :x-ms-azure-resource true}, :SavedSearchProperties {:description "Value object for saved search results.", :properties {:category {:description "The category of the saved search. This helps the user to find a saved search faster. ", :type "string"}, :displayName {:description "Saved search display name.", :type "string"}, :query {:description "The query expression for the saved search. Please see https://docs.microsoft.com/en-us/azure/log-analytics/log-analytics-search-reference for reference.", :type "string"}, :tags {:description "The tags attached to the saved search.", :items #:reference{:definitions "Tag"}, :type "array"}, :version {:description "The version number of the query language. The current version is 2 and is the default.", :format "int64", :maximum 2, :minimum 1, :type "integer"}}, :required ["category" "displayName" "query"]}, :SharedKeys {:description "The shared keys for a workspace.", :properties {:primarySharedKey {:description "The primary shared key of a workspace.", :type "string"}, :secondarySharedKey {:description "The secondary shared key of a workspace.", :type "string"}}}, :Resource {:description "The resource definition.", :properties {:id {:description "Resource Id", :readOnly true, :type "string"}, :location {:description "Resource location", :type "string"}, :name {:description "Resource name", :readOnly true, :type "string"}, :tags {:additionalProperties {:type "string"}, :description "Resource tags", :type "object"}, :type {:description "Resource type", :readOnly true, :type "string"}}, :required ["location"], :x-ms-azure-resource true}, :SavedSearchesListResult {:description "The saved search list operation response.", :properties {"__metadata" #:reference{:definitions "SearchMetadata"}, :value {:description "The array of result values.", :items #:reference{:definitions "SavedSearch"}, :type "array"}}}, :WorkspacePurgeStatusResponse {:description "Response containing status for a specific purge operation.", :properties {:status {:description "Status of the operation represented by the requested Id.", :enum ["pending" "completed"], :type "string", :x-ms-enum {:modelAsString true, :name "PurgeState"}}}, :required ["status"]}, :StorageInsightStatus {:description "The status of the storage insight.", :properties {:description {:description "Description of the state of the storage insight.", :type "string"}, :state {:description "The state of the storage insight connection to the workspace", :enum ["OK" "ERROR"], :type "string", :x-ms-enum {:modelAsString true, :name "StorageInsightState"}}}, :required ["state"]}, :SavedSearch {:description "Value object for saved search results.", :properties {:eTag {:description "The ETag of the saved search.", :type "string"}, :id {:description "The id of the saved search.", :readOnly true, :type "string"}, :name {:description "The name of the saved search.", :readOnly true, :type "string"}, :properties #:reference{:definitions "SavedSearchProperties"}, :type {:description "The type of the saved search.", :readOnly true, :type "string"}}, :required ["properties"], :x-ms-azure-resource true}, :SearchGetSchemaResponse {:description "The get schema operation response.", :properties {:metadata #:reference{:definitions "SearchMetadata"}, :value {:description "The array of result values.", :items #:reference{:definitions "SearchSchemaValue"}, :type "array"}}}, :ProxyResource {:description "Common properties of proxy resource.", :properties {:id {:description "Resource ID.", :readOnly true, :type "string"}, :name {:description "Resource name.", :readOnly true, :type "string"}, :tags {:additionalProperties {:type "string"}, :description "Resource tags", :type "object"}, :type {:description "Resource type.", :readOnly true, :type "string"}}}}}