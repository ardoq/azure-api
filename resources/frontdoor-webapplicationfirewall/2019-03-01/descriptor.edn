{:scheme "https", :host "management.azure.com", :info {:description "APIs to manage web application firewall rules.", :title "WebApplicationFirewallManagement", :version "2019-03-01"}, :ops {:ManagedRuleSets_List {:path "/subscriptions/{subscriptionId}/providers/Microsoft.Network/FrontDoorWebApplicationFirewallManagedRuleSets", :description "Lists all available managed rule sets.", :parameters [{:description "The subscription credentials which uniquely identify the Microsoft Azure subscription. The subscription ID forms part of the URI for every service call.", :in "path", :name "subscriptionId", :required true, :type "string"} {:description "Client API version.", :in "query", :name "api-version", :required true, :type "string"}], :verb :get}, :Policies_List {:path "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/FrontDoorWebApplicationFirewallPolicies", :description "Lists all of the protection policies within a resource group.", :parameters [#:reference{:parameters "ResourceGroupNameParameter"} {:description "The subscription credentials which uniquely identify the Microsoft Azure subscription. The subscription ID forms part of the URI for every service call.", :in "path", :name "subscriptionId", :required true, :type "string"} {:description "Client API version.", :in "query", :name "api-version", :required true, :type "string"}], :verb :get}, :Policies_Delete {:path "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/FrontDoorWebApplicationFirewallPolicies/{policyName}", :description "Deletes Policy", :parameters [#:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "PolicyNameParameter"} {:description "The subscription credentials which uniquely identify the Microsoft Azure subscription. The subscription ID forms part of the URI for every service call.", :in "path", :name "subscriptionId", :required true, :type "string"} {:description "Client API version.", :in "query", :name "api-version", :required true, :type "string"}], :verb :delete}, :Policies_Get {:path "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/FrontDoorWebApplicationFirewallPolicies/{policyName}", :description "Retrieve protection policy with specified name within a resource group.", :parameters [#:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "PolicyNameParameter"} {:description "The subscription credentials which uniquely identify the Microsoft Azure subscription. The subscription ID forms part of the URI for every service call.", :in "path", :name "subscriptionId", :required true, :type "string"} {:description "Client API version.", :in "query", :name "api-version", :required true, :type "string"}], :verb :get}, :Policies_CreateOrUpdate {:path "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/FrontDoorWebApplicationFirewallPolicies/{policyName}", :description "Create or update policy with specified rule set name within a resource group.", :parameters [#:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "PolicyNameParameter"} {:description "The subscription credentials which uniquely identify the Microsoft Azure subscription. The subscription ID forms part of the URI for every service call.", :in "path", :name "subscriptionId", :required true, :type "string"} {:description "Client API version.", :in "query", :name "api-version", :required true, :type "string"} {:description "Policy to be created.", :in "body", :name "parameters", :required true, :schema #:reference{:definitions "WebApplicationFirewallPolicy"}}], :verb :put}}, :parameters {:PolicyNameParameter {:description "The name of the Web Application Firewall Policy.", :in "path", :maxLength 128, :name "policyName", :required true, :type "string", :x-ms-parameter-location "method"}, :ResourceGroupNameParameter {:description "Name of the Resource group within the Azure subscription.", :name "resourceGroupName", :type "string", :minLength 1, :x-ms-parameter-location "method", :maxLength 80, :required true, :in "path", :pattern "^[a-zA-Z0-9_\\-\\(\\)\\.]*[^\\.]$"}}, :definitions {:ManagedRuleSet {:description "Defines a managed rule set.", :properties {:ruleGroupOverrides {:description "Defines the rule group overrides to apply to the rule set.", :items #:reference{:definitions "ManagedRuleGroupOverride"}, :type "array"}, :ruleSetType {:description "Defines the rule set type to use.", :type "string"}, :ruleSetVersion {:description "Defines the version of the rule set to use.", :type "string"}}, :required ["ruleSetType" "ruleSetVersion"], :type "object"}, :ManagedRuleSetDefinitionList {:description "List of managed rule set definitions available for use in a policy.", :properties {:nextLink {:description "URL to retrieve next set of managed rule set definitions.", :type "string"}, :value {:description "List of managed rule set definitions.", :items #:reference{:definitions "ManagedRuleSetDefinition"}, :readOnly true, :type "array"}}}, :WebApplicationFirewallPolicyProperties {:description "Defines web application firewall policy properties.", :properties {:customRules #:reference{:definitions "CustomRuleList"}, :frontendEndpointLinks {:description "Describes Frontend Endpoints associated with this Web Application Firewall policy.", :items #:reference{:definitions "FrontendEndpointLink"}, :readOnly true, :type "array"}, :managedRules #:reference{:definitions "ManagedRuleSetList"}, :policySettings #:reference{:definitions "PolicySettings"}, :provisioningState {:description "Provisioning state of the policy.", :readOnly true, :type "string"}, :resourceState {:enum ["Creating" "Enabling" "Enabled" "Disabling" "Disabled" "Deleting"], :readOnly true, :title "Resource status of the policy.", :type "string", :x-ms-enum {:modelAsString true, :name "PolicyResourceState"}}}}, :ActionType {:description "Defines the action to take on rule match.", :enum ["Allow" "Block" "Log" "Redirect"], :type "string", :x-ms-enum {:modelAsString true, :name "ActionType"}}, :TransformType {:description "Describes what transforms applied before matching.", :enum ["Lowercase" "Uppercase" "Trim" "UrlDecode" "UrlEncode" "RemoveNulls"], :type "string", :x-ms-enum {:modelAsString true, :name "TransformType"}}, :ManagedRuleGroupDefinition {:description "Describes a managed rule group.", :properties {:description {:description "Description of the managed rule group.", :readOnly true, :type "string"}, :ruleGroupName {:description "Name of the managed rule group.", :readOnly true, :type "string"}, :rules {:description "List of rules within the managed rule group.", :items #:reference{:definitions "ManagedRuleDefinition"}, :readOnly true, :type "array"}}}, :WebApplicationFirewallPolicyList {:description "Defines a list of WebApplicationFirewallPolicies. It contains a list of WebApplicationFirewallPolicy objects and a URL link to get the next set of results.", :properties {:nextLink {:description "URL to get the next set of WebApplicationFirewallPolicy objects if there are any.", :type "string"}, :value {:description "List of WebApplicationFirewallPolicies within a resource group.", :items #:reference{:definitions "WebApplicationFirewallPolicy"}, :readOnly true, :type "array"}}}, :ManagedRuleSetList {:description "Defines the list of managed rule sets for the policy.", :properties {:managedRuleSets {:description "List of rule sets.", :items #:reference{:definitions "ManagedRuleSet"}, :type "array"}}}, :PolicySettings {:description "Defines top-level WebApplicationFirewallPolicy configuration settings.", :properties {:customBlockResponseBody {:description "If the action type is block, customer can override the response body. The body must be specified in base64 encoding.", :pattern "^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})$", :type "string"}, :customBlockResponseStatusCode {:description "If the action type is block, customer can override the response status code.", :type "integer"}, :enabledState {:description "Describes if the policy is in enabled or disabled state. Defaults to Enabled if not specified.", :enum ["Disabled" "Enabled"], :type "string", :x-ms-enum {:modelAsString true, :name "PolicyEnabledState"}}, :mode {:description "Describes if it is in detection mode or prevention mode at policy level.", :enum ["Prevention" "Detection"], :type "string", :x-ms-enum {:modelAsString true, :name "PolicyMode"}}, :redirectUrl {:description "If action type is redirect, this field represents redirect URL for the client.", :type "string"}}}, :MatchCondition {:description "Define a match condition.", :properties {:matchValue {:description "List of possible match values.", :items {:type "string"}, :type "array"}, :matchVariable {:description "Request variable to compare with.", :enum ["RemoteAddr" "RequestMethod" "QueryString" "PostArgs" "RequestUri" "RequestHeader" "RequestBody" "Cookies" "SocketAddr"], :type "string", :x-ms-enum {:modelAsString true, :name "MatchVariable"}}, :negateCondition {:description "Describes if the result of this condition should be negated.", :type "boolean"}, :operator {:description "Comparison type to use for matching with the variable value.", :enum ["Any" "IPMatch" "GeoMatch" "Equal" "Contains" "LessThan" "GreaterThan" "LessThanOrEqual" "GreaterThanOrEqual" "BeginsWith" "EndsWith" "RegEx"], :type "string", :x-ms-enum {:modelAsString true, :name "Operator"}}, :selector {:description "Match against a specific key from the QueryString, PostArgs, RequestHeader or Cookies variables. Default is null.", :type "string"}, :transforms {:description "List of transforms.", :items #:reference{:definitions "TransformType"}, :type "array"}}, :required ["matchVariable" "operator" "matchValue"]}, :CustomRuleList {:description "Defines contents of custom rules", :properties {:rules {:description "List of rules", :items #:reference{:definitions "CustomRule"}, :type "array"}}}, :ManagedRuleSetDefinitionProperties {:description "Properties for a managed rule set definition.", :properties {:provisioningState {:description "Provisioning state of the managed rule set.", :readOnly true, :type "string"}, :ruleGroups {:description "Rule groups of the managed rule set.", :items #:reference{:definitions "ManagedRuleGroupDefinition"}, :readOnly true, :type "array"}, :ruleSetType {:description "Type of the managed rule set.", :readOnly true, :type "string"}, :ruleSetVersion {:description "Version of the managed rule set type.", :readOnly true, :type "string"}}}, :CustomRule {:description "Defines contents of a web application rule", :properties {:action #:reference{:definitions "ActionType"}, :enabledState {:description "Describes if the custom rule is in enabled or disabled state. Defaults to Enabled if not specified.", :enum ["Disabled" "Enabled"], :type "string", :x-ms-enum {:modelAsString true, :name "CustomRuleEnabledState"}}, :matchConditions {:description "List of match conditions.", :items #:reference{:definitions "MatchCondition"}, :type "array"}, :name {:description "Describes the name of the rule.", :maxLength 128, :type "string"}, :priority {:description "Describes priority of the rule. Rules with a lower value will be evaluated before rules with a higher value.", :type "integer"}, :rateLimitDurationInMinutes {:description "Time window for resetting the rate limit count. Default is 1 minute.", :maximum 5, :minimum 0, :type "integer"}, :rateLimitThreshold {:description "Number of allowed requests per client within the time window.", :minimum 0, :type "integer"}, :ruleType {:description "Describes type of rule.", :enum ["MatchRule" "RateLimitRule"], :type "string", :x-ms-enum {:modelAsString true, :name "RuleType"}}}, :required ["priority" "ruleType" "matchConditions" "action"]}, :ManagedRuleEnabledState {:description "Describes if the managed rule is in enabled or disabled state.", :enum ["Disabled" "Enabled"], :type "string", :x-ms-enum {:modelAsString true, :name "ManagedRuleEnabledState"}}, :WebApplicationFirewallPolicy {:allOf [{:description "Common resource representation.", :properties {:id {:description "Resource ID.", :readOnly true, :type "string"}, :location {:description "Resource location.", :type "string"}, :name {:description "Resource name.", :readOnly true, :type "string"}, :tags {:additionalProperties {:type "string"}, :description "Resource tags.", :type "object"}, :type {:description "Resource type.", :readOnly true, :type "string"}}, :x-ms-azure-resource true}], :description "Defines web application firewall policy.", :properties {:etag {:description "Gets a unique read-only string that changes whenever the resource is updated.", :type "string"}, :properties #:reference{:definitions "WebApplicationFirewallPolicyProperties"}}}, :ManagedRuleOverride {:description "Defines a managed rule group override setting.", :properties {:action #:reference{:definitions "ActionType"}, :enabledState #:reference{:definitions "ManagedRuleEnabledState"}, :ruleId {:description "Identifier for the managed rule.", :type "string"}}, :required ["ruleId"]}, :ErrorResponse {:description "Error response indicates Front Door service is not able to process the incoming request. The reason is provided in the error message.", :properties {:code {:description "Error code.", :readOnly true, :type "string"}, :message {:description "Error message indicating why the operation failed.", :readOnly true, :type "string"}}, :type "object"}, :ManagedRuleDefinition {:description "Describes a managed rule definition.", :properties {:defaultAction #:reference{:definitions "ActionType"}, :defaultState #:reference{:definitions "ManagedRuleEnabledState"}, :description {:description "Describes the functionality of the managed rule.", :readOnly true, :type "string"}, :ruleId {:description "Identifier for the managed rule.", :readOnly true, :type "string"}}}, :ManagedRuleGroupOverride {:description "Defines a managed rule group override setting.", :properties {:ruleGroupName {:description "Describes the managed rule group to override.", :type "string"}, :rules {:description "List of rules that will be disabled. If none specified, all rules in the group will be disabled.", :items #:reference{:definitions "ManagedRuleOverride"}, :type "array"}}, :required ["ruleGroupName"]}, :FrontendEndpointLink {:description "Defines the Resource ID for a Frontend Endpoint.", :properties {:id {:description "Resource ID.", :type "string"}}, :readOnly true, :type "object"}, :ManagedRuleSetDefinition {:allOf [{:description "Common resource representation.", :properties {:id {:description "Resource ID.", :readOnly true, :type "string"}, :location {:description "Resource location.", :type "string"}, :name {:description "Resource name.", :readOnly true, :type "string"}, :tags {:additionalProperties {:type "string"}, :description "Resource tags.", :type "object"}, :type {:description "Resource type.", :readOnly true, :type "string"}}, :x-ms-azure-resource true}], :description "Describes the a managed rule set definition.", :properties {:properties #:reference{:definitions "ManagedRuleSetDefinitionProperties"}}}}}