{:scheme "https", :host "management.azure.com", :info {:description "Azure Monitor client to create/update/delete metric based alerts.", :title "MonitorManagementClient", :version "2018-03-01"}, :ops {:MetricAlerts_ListBySubscription {:path "/subscriptions/{subscriptionId}/providers/Microsoft.Insights/metricAlerts", :description "Retrieve alert rule definitions in a subscription.", :parameters [#:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ApiVersionParameter"}], :verb :get}, :MetricAlerts_ListByResourceGroup {:path "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Insights/metricAlerts", :description "Retrieve alert rule definitions in a resource group.", :parameters [#:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "ApiVersionParameter"}], :verb :get}, :MetricAlerts_Delete {:path "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Insights/metricAlerts/{ruleName}", :description "Delete an alert rule definition.", :parameters [#:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "RuleNameParameter"} #:reference{:parameters "ApiVersionParameter"}], :verb :delete}, :MetricAlerts_Get {:path "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Insights/metricAlerts/{ruleName}", :description "Retrieve an alert rule definition.", :parameters [#:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "RuleNameParameter"} #:reference{:parameters "ApiVersionParameter"}], :verb :get}, :MetricAlerts_Update {:path "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Insights/metricAlerts/{ruleName}", :description "Update an metric alert definition.", :parameters [#:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "RuleNameParameter"} #:reference{:parameters "ApiVersionParameter"} {:description "The parameters of the rule to update.", :in "body", :name "parameters", :required true, :schema #:reference{:definitions "MetricAlertResourcePatch"}}], :verb :patch}, :MetricAlerts_CreateOrUpdate {:path "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Insights/metricAlerts/{ruleName}", :description "Create or update an metric alert definition.", :parameters [#:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "RuleNameParameter"} #:reference{:parameters "ApiVersionParameter"} {:description "The parameters of the rule to create or update.", :in "body", :name "parameters", :required true, :schema #:reference{:definitions "MetricAlertResource"}}], :verb :put}, :MetricAlertsStatus_List {:path "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Insights/metricAlerts/{ruleName}/status", :description "Retrieve an alert rule status.", :parameters [#:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "RuleNameParameter"} #:reference{:parameters "ApiVersionParameter"}], :verb :get}, :MetricAlertsStatus_ListByName {:path "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Insights/metricAlerts/{ruleName}/status/{statusName}", :description "Retrieve an alert rule status.", :parameters [#:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "RuleNameParameter"} #:reference{:parameters "StatusNameParameter"} #:reference{:parameters "ApiVersionParameter"}], :verb :get}}, :parameters {:ApiVersionParameter {:description "Client Api Version.", :in "query", :name "api-version", :required true, :type "string"}, :ResourceGroupNameParameter {:description "The name of the resource group.", :in "path", :name "resourceGroupName", :required true, :type "string", :x-ms-parameter-location "method"}, :RuleNameParameter {:description "The name of the rule.", :in "path", :name "ruleName", :required true, :type "string", :x-ms-parameter-location "method"}, :StatusNameParameter {:description "The name of the status.", :in "path", :name "statusName", :required true, :type "string", :x-ms-parameter-location "method"}, :SubscriptionIdParameter {:description "The Azure subscription Id.", :in "path", :name "subscriptionId", :required true, :type "string"}}, :definitions {:DynamicMetricCriteria {:allOf [#:reference{:definitions "MultiMetricCriteria"}], :description "Criterion for dynamic threshold.", :properties {:alertSensitivity {:description "The extent of deviation required to trigger an alert. This will affect how tight the threshold is to the metric series pattern.", :enum ["Low" "Medium" "High"], :x-ms-enum {:modelAsString true, :name "DynamicThresholdSensitivity"}}, :failingPeriods #:reference{:definitions "DynamicThresholdFailingPeriods"}, :ignoreDataBefore {:description "Use this option to set the date from which to start learning the metric historical data and calculate the dynamic thresholds (in ISO8601 format)", :format "date-time", :type "string"}, :operator {:description "The operator used to compare the metric value against the threshold.", :enum ["GreaterThan" "LessThan" "GreaterOrLessThan"], :x-ms-enum {:modelAsString true, :name "DynamicThresholdOperator"}}}, :required ["operator" "alertSensitivity" "failingPeriods"], :type "object", :x-ms-discriminator-value "DynamicThresholdCriterion"}, :MetricAlertSingleResourceMultipleMetricCriteria {:allOf [#:reference{:definitions "MetricAlertCriteria"}], :description "Specifies the metric alert criteria for a single resource that has multiple metric criteria.", :properties {:allOf {:description "The list of metric criteria for this 'all of' operation. ", :items #:reference{:definitions "MetricCriteria"}, :type "array"}}, :type "object", :x-ms-discriminator-value "Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria"}, :DynamicThresholdFailingPeriods {:description "The minimum number of violations required within the selected lookback time window required to raise an alert.", :properties {:minFailingPeriodsToAlert {:description "The number of violations to trigger an alert. Should be smaller or equal to numberOfEvaluationPeriods.", :type "number"}, :numberOfEvaluationPeriods {:description "The number of aggregated lookback points. The lookback time window is calculated based on the aggregation granularity (windowSize) and the selected number of aggregated points.", :type "number"}}, :required ["numberOfEvaluationPeriods" "minFailingPeriodsToAlert"]}, :MetricAlertAction {:description "An alert action.", :properties {:actionGroupId {:description "the id of the action group to use.", :type "string"}, :webhookProperties {:additionalProperties {:description "the dictionary of custom properties to include with the post operation. These data are appended to the webhook payload.", :type "string"}, :description "The properties of a webhook object.", :type "object"}}}, :MetricAlertResourceCollection {:description "Represents a collection of alert rule resources.", :properties {:value {:description "the values for the alert rule resources.", :items #:reference{:definitions "MetricAlertResource"}, :type "array"}}}, :MetricAlertCriteria {:additionalProperties {:type "object"}, :description "The rule criteria that defines the conditions of the alert rule.", :discriminator "odata.type", :properties {"odata.type" {:description "specifies the type of the alert criteria.", :enum ["Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria" "Microsoft.Azure.Monitor.MultipleResourceMultipleMetricCriteria"], :x-ms-enum {:modelAsString true, :name "odatatype"}}}, :required ["odata.type"], :type "object"}, :MetricAlertStatusProperties {:description "An alert status properties.", :properties {:dimensions {:additionalProperties {:type "string"}, :description "An object describing the type of the dimensions.", :type "object"}, :status {:description "status value", :type "string"}, :timestamp {:description "UTC time when the status was checked.", :format "date-time", :type "string"}}}, :MetricAlertStatus {:description "An alert status.", :properties {:id {:description "The alert rule arm id.", :type "string"}, :name {:description "The status name.", :type "string"}, :properties #:reference{:definitions "MetricAlertStatusProperties"}, :type {:description "The extended resource type name.", :type "string"}}}, :MetricAlertStatusCollection {:description "Represents a collection of alert rule resources.", :properties {:value {:description "the values for the alert rule resources.", :items #:reference{:definitions "MetricAlertStatus"}, :type "array"}}}, :MetricAlertMultipleResourceMultipleMetricCriteria {:allOf [#:reference{:definitions "MetricAlertCriteria"}], :description "Specifies the metric alert criteria for multiple resource that has multiple metric criteria.", :properties {:allOf {:description "the list of multiple metric criteria for this 'all of' operation. ", :items #:reference{:definitions "MultiMetricCriteria"}, :type "array"}}, :type "object", :x-ms-discriminator-value "Microsoft.Azure.Monitor.MultipleResourceMultipleMetricCriteria"}, :MetricAlertProperties {:description "An alert rule.", :properties {:scopes {:description "the list of resource id's that this metric alert is scoped to.", :items {:type "string"}, :type "array"}, :description {:description "the description of the metric alert that will be included in the alert email.", :type "string"}, :targetResourceRegion {:description "the region of the target resource(s) on which the alert is created/updated. Mandatory for MultipleResourceMultipleMetricCriteria.", :type "string"}, :lastUpdatedTime {:description "Last time the rule was updated in ISO8601 format.", :format "date-time", :readOnly true, :type "string"}, :autoMitigate {:description "the flag that indicates whether the alert should be auto resolved or not.", :type "boolean"}, :criteria #:reference{:definitions "MetricAlertCriteria"}, :actions {:description "the array of actions that are performed when the alert rule becomes active, and when an alert condition is resolved.", :items #:reference{:definitions "MetricAlertAction"}, :type "array"}, :severity {:description "Alert severity {0, 1, 2, 3, 4}", :type "integer"}, :targetResourceType {:description "the resource type of the target resource(s) on which the alert is created/updated. Mandatory for MultipleResourceMultipleMetricCriteria.", :type "string"}, :windowSize {:description "the period of time (in ISO 8601 duration format) that is used to monitor alert activity based on the threshold.", :format "duration", :type "string"}, :enabled {:description "the flag that indicates whether the metric alert is enabled.", :type "boolean"}, :evaluationFrequency {:description "how often the metric alert is evaluated represented in ISO 8601 duration format.", :format "duration", :type "string"}}, :required ["enabled" "description" "severity" "evaluationFrequency" "windowSize" "criteria"]}, :MetricAlertResourcePatch {:description "The metric alert resource for patch operations.", :properties {:properties #:reference{:definitions "MetricAlertProperties"}, :tags {:additionalProperties {:type "string"}, :description "Resource tags"}}}, :MetricAlertResource {:allOf [#:reference{:definitions "Resource"}], :description "The metric alert resource.", :properties {:properties #:reference{:definitions "MetricAlertProperties"}}, :required ["properties"], :type "object"}, :MetricCriteria {:allOf [#:reference{:definitions "MultiMetricCriteria"}], :description "Criterion to filter metrics.", :properties {:operator {:description "the criteria operator.", :enum ["Equals" "NotEquals" "GreaterThan" "GreaterThanOrEqual" "LessThan" "LessThanOrEqual"], :x-ms-enum {:modelAsString true, :name "Operator"}}, :threshold {:description "the criteria threshold value that activates the alert.", :format "double", :type "number"}}, :required ["operator" "threshold"], :type "object", :x-ms-discriminator-value "StaticThresholdCriterion"}, :MultiMetricCriteria {:additionalProperties {:type "object"}, :description "The types of conditions for a multi resource alert.", :discriminator "criterionType", :properties {:criterionType {:description "Specifies the type of threshold criteria", :enum ["StaticThresholdCriterion" "DynamicThresholdCriterion"], :x-ms-enum {:modelAsString true, :name "criterionType"}}, :dimensions {:description "List of dimension conditions.", :items #:reference{:definitions "MetricDimension"}, :type "array"}, :metricName {:description "Name of the metric.", :type "string"}, :metricNamespace {:description "Namespace of the metric.", :type "string"}, :name {:description "Name of the criteria.", :type "string"}, :timeAggregation {:description "the criteria time aggregation types.", :enum ["Average" "Minimum" "Maximum" "Total"], :x-ms-enum {:modelAsString true, :name "AggregationType"}}}, :required ["criterionType" "name" "metricName" "timeAggregation"], :type "object"}, :MetricDimension {:description "Specifies a metric dimension.", :properties {:name {:description "Name of the dimension.", :type "string"}, :operator {:description "the dimension operator. Only 'Include' and 'Exclude' are supported", :type "string"}, :values {:description "list of dimension values.", :items {:type "string"}, :type "array"}}, :required ["name" "operator" "values"]}, :Resource {:description "An azure resource object", :properties {:id {:description "Azure resource Id", :readOnly true, :type "string"}, :location {:description "Resource location", :type "string", :x-ms-mutability ["create" "read"]}, :name {:description "Azure resource name", :readOnly true, :type "string"}, :tags {:additionalProperties {:type "string"}, :description "Resource tags"}, :type {:description "Azure resource type", :readOnly true, :type "string"}}, :required ["location"], :x-ms-azure-resource true}}}