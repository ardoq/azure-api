{:scheme "https", :host "management.azure.com", :info {:description "APIs to manage web application firewall rules for Azure CDN", :title "Azure CDN WebApplicationFirewallManagement", :version "2019-06-15-preview"}, :ops {:ManagedRuleSets_List {:path "/subscriptions/{subscriptionId}/providers/Microsoft.Cdn/CdnWebApplicationFirewallManagedRuleSets", :description "Lists all available managed rule sets.", :parameters [#:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ApiVersionParameter"}], :verb :get}, :Policies_List {:path "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies", :description "Lists all of the protection policies within a resource group.", :parameters [#:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ApiVersionParameter"}], :verb :get}, :Policies_Delete {:path "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/{policyName}", :description "Deletes Policy", :parameters [#:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "PolicyNameParameter"} #:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ApiVersionParameter"}], :verb :delete}, :Policies_Get {:path "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/{policyName}", :description "Retrieve protection policy with specified name within a resource group.", :parameters [#:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "PolicyNameParameter"} #:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ApiVersionParameter"}], :verb :get}, :Policies_Update {:path "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/{policyName}", :description "Update an existing CdnWebApplicationFirewallPolicy with the specified policy name under the specified subscription and resource group", :parameters [#:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "PolicyNameParameter"} #:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ApiVersionParameter"} {:description "CdnWebApplicationFirewallPolicy parameters to be patched.", :in "body", :name "cdnWebApplicationFirewallPolicyPatchParameters", :required true, :schema #:reference{:definitions "CdnWebApplicationFirewallPolicyPatchParameters"}}], :verb :patch}, :Policies_CreateOrUpdate {:path "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/{policyName}", :description "Create or update policy with specified rule set name within a resource group.", :parameters [#:reference{:parameters "ResourceGroupNameParameter"} #:reference{:parameters "PolicyNameParameter"} #:reference{:parameters "SubscriptionIdParameter"} #:reference{:parameters "ApiVersionParameter"} {:description "Policy to be created.", :in "body", :name "cdnWebApplicationFirewallPolicy", :required true, :schema #:reference{:definitions "CdnWebApplicationFirewallPolicy"}}], :verb :put}}, :parameters {:ApiVersionParameter {:description "Version of the API to be used with the client request. Current version is 2017-04-02.", :in "query", :name "api-version", :required true, :type "string"}, :PolicyNameParameter {:description "The name of the CdnWebApplicationFirewallPolicy.", :in "path", :maxLength 128, :name "policyName", :required true, :type "string", :x-ms-parameter-location "method"}, :ResourceGroupNameParameter {:description "Name of the Resource group within the Azure subscription.", :name "resourceGroupName", :type "string", :minLength 1, :x-ms-parameter-location "method", :maxLength 80, :required true, :in "path", :pattern "^[a-zA-Z0-9_\\-\\(\\)\\.]*[^\\.]$"}, :SubscriptionIdParameter {:description "Azure Subscription ID.", :in "path", :name "subscriptionId", :required true, :type "string"}}, :definitions {:CdnWebApplicationFirewallPolicyPatchParameters {:description "Properties required to update a CdnWebApplicationFirewallPolicy.", :properties {:tags {:additionalProperties {:type "string"}, :description "CdnWebApplicationFirewallPolicy tags", :type "object"}}, :type "object", :x-ms-azure-resource true}, :ManagedRuleSet {:description "Defines a managed rule set.", :properties {:anomalyScore {:description "Verizon only : If the rule set supports anomaly detection mode, this describes the threshold for blocking requests.", :exclusiveMaximum false, :exclusiveMinimum false, :maximum 20, :minimum 0, :type "integer"}, :ruleGroupOverrides {:description "Defines the rule overrides to apply to the rule set.", :items #:reference{:definitions "ManagedRuleGroupOverride"}, :type "array"}, :ruleSetType {:description "Defines the rule set type to use.", :type "string"}, :ruleSetVersion {:description "Defines the version of the rule set to use.", :type "string"}}, :required ["ruleSetType" "ruleSetVersion"], :type "object"}, :ManagedRuleSetDefinitionList {:description "List of managed rule set definitions available for use in a policy.", :properties {:nextLink {:description "URL to retrieve next set of managed rule set definitions.", :type "string"}, :value {:description "List of managed rule set definitions.", :items #:reference{:definitions "ManagedRuleSetDefinition"}, :readOnly true, :type "array"}}}, :ActionType {:description "Defines the action to take on rule match.", :enum ["Allow" "Block" "Log" "Redirect"], :type "string", :x-ms-enum {:modelAsString true, :name "ActionType"}}, :TransformType {:description "Describes what transforms were applied before matching.", :enum ["Lowercase" "Uppercase" "Trim" "UrlDecode" "UrlEncode" "RemoveNulls"], :type "string", :x-ms-enum {:modelAsString true, :name "TransformType"}}, :ManagedRuleGroupDefinition {:description "Describes a managed rule group.", :properties {:description {:description "Description of the managed rule group.", :readOnly true, :type "string"}, :ruleGroupName {:description "Name of the managed rule group.", :readOnly true, :type "string"}, :rules {:description "List of rules within the managed rule group.", :items #:reference{:definitions "ManagedRuleDefinition"}, :readOnly true, :type "array"}}}, :ManagedRuleSetList {:description "Defines the list of managed rule sets for the policy.", :properties {:managedRuleSets {:description "List of rule sets.", :items #:reference{:definitions "ManagedRuleSet"}, :type "array"}}}, :RateLimitRuleList {:description "Defines contents of rate limit rules", :properties {:rules {:description "List of rules", :items #:reference{:definitions "RateLimitRule"}, :type "array"}}}, :CdnWebApplicationFirewallPolicy {:allOf [{:allOf [{:description "The core properties of ARM resources", :properties {:id {:description "Resource ID.", :readOnly true, :type "string"}, :name {:description "Resource name.", :readOnly true, :type "string"}, :type {:description "Resource type.", :readOnly true, :type "string"}}, :x-ms-azure-resource true}], :description "The resource model definition for a ARM tracked top level resource.", :properties {:location {:description "Resource location.", :type "string"}, :tags {:additionalProperties {:type "string"}, :description "Resource tags.", :type "object", :x-ms-mutability ["read" "create" "update"]}}, :required ["location"]}], :description "Defines web application firewall policy for Azure CDN.", :properties {:etag {:description "Gets a unique read-only string that changes whenever the resource is updated.", :type "string"}, :properties #:reference{:definitions "CdnWebApplicationFirewallPolicyProperties"}, :sku {:description "The pricing tier (defines a CDN provider, feature list and rate) of the CDN profile.", :properties {:name {:description "Name of the pricing tier.", :enum ["Standard_Verizon" "Premium_Verizon" "Custom_Verizon" "Standard_Akamai" "Standard_ChinaCdn" "Standard_Microsoft" "Premium_ChinaCdn"], :type "string", :x-ms-enum {:modelAsString true, :name "SkuName"}}}, :type "object"}}, :required ["sku"]}, :MatchCondition {:description "Define match conditions", :properties {:matchValue {:description "List of possible match values.", :items {:type "string"}, :type "array"}, :matchVariable {:description "Match variable to compare against.", :enum ["RemoteAddr" "Country" "RequestMethod" "RequestHeader" "RequestUri" "QueryString" "RequestBody" "Cookies" "PostArgs"], :type "string", :x-ms-enum {:modelAsString true, :name "MatchVariable"}}, :negateCondition {:description "Describes if the result of this condition should be negated.", :type "boolean"}, :operator {:description "Describes operator to be matched", :enum ["Any" "IPMatch" "GeoMatch" "Equal" "Contains" "LessThan" "GreaterThan" "LessThanOrEqual" "GreaterThanOrEqual" "BeginsWith" "EndsWith" "RegEx"], :type "string", :x-ms-enum {:modelAsString true, :name "operator"}}, :selector {:description "Selector can used to match a specific key for QueryString, RequestUri, RequestHeaders or RequestBody.", :type "string"}, :transforms {:description "List of transforms.", :items #:reference{:definitions "TransformType"}, :type "array"}}, :required ["matchVariable" "operator" "matchValue"]}, :CustomRuleList {:description "Defines contents of custom rules", :properties {:rules {:description "List of rules", :items #:reference{:definitions "CustomRule"}, :type "array"}}}, :ManagedRuleSetDefinitionProperties {:description "Properties for a managed rule set definition.", :properties {:provisioningState {:description "Provisioning state of the managed rule set.", :readOnly true, :type "string"}, :ruleGroups {:description "Rule groups of the managed rule set.", :items #:reference{:definitions "ManagedRuleGroupDefinition"}, :readOnly true, :type "array"}, :ruleSetType {:description "Type of the managed rule set.", :readOnly true, :type "string"}, :ruleSetVersion {:description "Version of the managed rule set type.", :readOnly true, :type "string"}}}, :CustomRule {:description "Defines the common attributes for a custom rule that can be included in a waf policy", :properties {:action #:reference{:definitions "ActionType"}, :enabledState {:description "Describes if the custom rule is in enabled or disabled state. Defaults to Enabled if not specified.", :enum ["Disabled" "Enabled"], :type "string", :x-ms-enum {:modelAsString true, :name "CustomRuleEnabledState"}}, :matchConditions {:description "List of match conditions.", :items #:reference{:definitions "MatchCondition"}, :type "array"}, :name {:description "Defines the name of the custom rule", :type "string"}, :priority {:description "Defines in what order this rule be evaluated in the overall list of custom rules", :exclusiveMaximum false, :exclusiveMinimum false, :maximum 1000, :minimum 0, :type "integer"}}, :required ["name" "priority" "matchConditions" "action"], :type "object"}, :CdnWebApplicationFirewallPolicyProperties {:description "Defines CDN web application firewall policy properties.", :properties {:customRules #:reference{:definitions "CustomRuleList"}, :endpointLinks {:description "Describes Azure CDN endpoints associated with this Web Application Firewall policy.", :items #:reference{:definitions "CdnEndpoint"}, :readOnly true, :type "array"}, :managedRules #:reference{:definitions "ManagedRuleSetList"}, :policySettings #:reference{:definitions "policySettings"}, :provisioningState {:description "Provisioning state of the WebApplicationFirewallPolicy.", :enum ["Creating" "Succeeded" "Failed"], :readOnly true, :type "string", :x-ms-enum {:modelAsString true, :name "ProvisioningState"}}, :rateLimitRules #:reference{:definitions "RateLimitRuleList"}, :resourceState {:enum ["Creating" "Enabling" "Enabled" "Disabling" "Disabled" "Deleting"], :readOnly true, :title "Resource status of the policy.", :type "string", :x-ms-enum {:modelAsString true, :name "PolicyResourceState"}}}}, :RateLimitRule {:allOf [#:reference{:definitions "CustomRule"}], :description "Defines a rate limiting rule that can be included in a waf policy", :properties {:rateLimitDurationInMinutes {:description "Defines rate limit duration. Default is 1 minute.", :exclusiveMaximum false, :exclusiveMinimum false, :maximum 60, :minimum 0, :type "integer"}, :rateLimitThreshold {:description "Defines rate limit threshold.", :exclusiveMinimum false, :minimum 0, :type "integer"}}, :required ["rateLimitThreshold" "rateLimitDurationInMinutes"], :type "object"}, :ManagedRuleOverride {:description "Defines a managed rule group override setting.", :properties {:action #:reference{:definitions "ActionType"}, :enabledState {:description "Describes if the managed rule is in enabled or disabled state. Defaults to Disabled if not specified.", :enum ["Disabled" "Enabled"], :type "string", :x-ms-enum {:modelAsString true, :name "ManagedRuleEnabledState"}}, :ruleId {:description "Identifier for the managed rule.", :type "string"}}, :required ["ruleId"]}, :CdnEndpoint {:description "Defines the ARM Resource ID for the linked endpoints", :properties {:id {:description "ARM Resource ID string.", :type "string"}}, :readOnly true, :type "object"}, :ManagedRuleDefinition {:description "Describes a managed rule definition.", :properties {:description {:description "Describes the functionality of the managed rule.", :readOnly true, :type "string"}, :ruleId {:description "Identifier for the managed rule.", :readOnly true, :type "string"}}}, :ManagedRuleGroupOverride {:description "Defines a managed rule group override setting.", :properties {:ruleGroupName {:description "Describes the managed rule group within the rule set to override", :type "string"}, :rules {:description "List of rules that will be disabled. If none specified, all rules in the group will be disabled.", :items #:reference{:definitions "ManagedRuleOverride"}, :type "array"}}, :required ["ruleGroupName"]}, :policySettings {:description "Defines contents of a web application firewall global configuration", :properties {:defaultCustomBlockResponseBody {:description "If the action type is block, customer can override the response body. The body must be specified in base64 encoding.", :pattern "^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})$", :type "string"}, :defaultCustomBlockResponseStatusCode {:description "If the action type is block, this field defines the default customer overridable http response status code.", :exclusiveMaximum false, :exclusiveMinimum false, :maximum 599, :minimum 200, :type "integer"}, :defaultRedirectUrl {:description "If action type is redirect, this field represents the default redirect URL for the client.", :type "string"}, :enabledState {:description "describes if the policy is in enabled state or disabled state", :enum ["Disabled" "Enabled"], :type "string", :x-ms-enum {:modelAsString true, :name "PolicyEnabledState"}}, :mode {:description "Describes if it is in detection mode or prevention mode at policy level.", :enum ["Prevention" "Detection"], :type "string", :x-ms-enum {:modelAsString true, :name "PolicyMode"}}}}, :CdnWebApplicationFirewallPolicyList {:description "Defines a list of WebApplicationFirewallPolicies for Azure CDN. It contains a list of WebApplicationFirewallPolicy objects and a URL link to get the next set of results.", :properties {:nextLink {:description "URL to get the next set of WebApplicationFirewallPolicy objects if there are any.", :type "string"}, :value {:description "List of Azure CDN WebApplicationFirewallPolicies within a resource group.", :items #:reference{:definitions "CdnWebApplicationFirewallPolicy"}, :readOnly true, :type "array"}}}, :ManagedRuleSetDefinition {:allOf [{:description "The core properties of ARM resources", :properties {:id {:description "Resource ID.", :readOnly true, :type "string"}, :name {:description "Resource name.", :readOnly true, :type "string"}, :type {:description "Resource type.", :readOnly true, :type "string"}}, :x-ms-azure-resource true}], :description "Describes a managed rule set definition.", :properties {:properties #:reference{:definitions "ManagedRuleSetDefinitionProperties"}, :sku {:description "The pricing tier (defines a CDN provider, feature list and rate) of the CDN profile.", :properties {:name {:description "Name of the pricing tier.", :enum ["Standard_Verizon" "Premium_Verizon" "Custom_Verizon" "Standard_Akamai" "Standard_ChinaCdn" "Standard_Microsoft" "Premium_ChinaCdn"], :type "string", :x-ms-enum {:modelAsString true, :name "SkuName"}}}, :type "object"}}}}}